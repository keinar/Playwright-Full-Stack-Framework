# üöÄ Playwright Full-Stack Automation Framework

A robust, microservices-based test automation platform designed for
scalability, real-time reporting, and AI-driven analysis.

![Architecture Diagram](https://mermaid.ink/img/pako:eNp1ksFuwyAMhl_F8jm9QA697bRdOu2wS4uQG0xQC5GAVNqmve-TFGq7qO0SiP_Pfwz2gTV1gR0U3yv2CboKixXvDS8_Wk5KKY9aC85XoQ2thMHa4A0_jZ1g-M07yqA0-qDkXfKCc6eM3qHkF7QO-g5KflA-G2558y54w6eT99o0Y5wZz-T_8IDW-S54x_fGzWd1fB0y44P2Qckf5H_w3nC78d5y3s7F4-d-L_gV7S2n6H61XPEy-Vf0r1j9k3_B_M3-5b8A2N2HBA?type=png)

## üèóÔ∏è Architecture

The system is built using a modern event-driven architecture to ensure
decoupling between test execution, reporting, and management.

### Services Overview

-   **üñ•Ô∏è Dashboard Client (`apps/dashboard-client`)**
    -   Built with **React**, **Vite**, and **Tailwind CSS**
    -   Real-time UI for viewing test executions, logs, and statistics
    -   Uses **Socket.io** for live updates
-   **‚öôÔ∏è Producer Service (`apps/producer-service`)**
    -   API Gateway built with **Fastify**
    -   Handles HTTP requests from the dashboard
    -   Publishes execution tasks to **RabbitMQ**
    -   Manages **MongoDB** connections
-   **üë∑ Worker Service (`apps/worker-service`)**
    -   Core execution engine using **Node.js**
    -   Consumes tasks from **RabbitMQ**
    -   Executes **Playwright** tests dynamically
    -   Generates **Allure Reports**
    -   Integrates **Google Gemini AI** for error analysis
-   **üì¶ Shared Packages**
    -   `packages/shared-types`: Shared TypeScript interfaces for type
        safety

## üõ†Ô∏è Tech Stack

-   **Frontend:** React, TypeScript, Recharts, Framer Motion
-   **Backend:** Node.js, Fastify, Socket.io
-   **Testing:** Playwright, Allure Report
-   **Infrastructure:** Docker, Docker Compose, RabbitMQ, MongoDB
-   **CI/CD:** GitHub Actions
-   **AI:** Google Gemini (Generative AI)

## üöÄ Getting Started

### Prerequisites

-   Node.js 18+
-   Docker & Docker Compose
-   pnpm

### Local Setup

``` bash
git clone https://github.com/your-username/playwright-full-stack-framework.git
cd playwright-full-stack-framework
pnpm install
```

### Environment Variables

Create a `.env` file in the project root:

``` env
MONGO_URI=mongodb://localhost:27017/automation_platform
RABBITMQ_URL=amqp://localhost
GEMINI_API_KEY=your_api_key_here
BASE_URL=https://your-target-app.com
```

### Run with Docker Compose

``` bash
docker-compose up -d --build
```

-   Dashboard: http://localhost:8080
-   Producer API: http://localhost:3000
-   RabbitMQ UI: http://localhost:15672

## ‚ñ∂Ô∏è Running Tests

Trigger tests via Dashboard UI or API:

``` bash
curl -X POST http://localhost:3000/execution-request \
  -H "Content-Type: application/json" \
  -d '{"config": {"baseUrl": "https://example.com"}, "tests": ["tests/e2e/login.spec.ts"]}'
```

## üîÑ CI/CD Pipeline

-   **CI (`ci.yml`)**
    -   Runs on every push
    -   Linting, build, Docker image creation
-   **CD (`deploy.yml`)**
    -   Deploys images to production VPS
    -   Restarts services via `docker-compose.prod.yml`

## üìä Reporting

Each execution produces an **Allure Report**, generated by the Worker
service and served by the Producer. Reports are accessible directly from
the Dashboard.

## üìù License

MIT License
